function Instabar(a){this.parameters={access_token:"",selector:"instabar",quality:"thumbnail",caption:!0,user_id:""};for(param in a)this.parameters[param]=a[param];this.instance_id=this._getUniqueID()}Instabar.prototype={_getUniqueID:function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;5>c;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},display:function(a){if(200==a.meta.code){var b=document.getElementById(this.parameters.selector),c=document.createElement("div");c.style.textAlign="center",b.appendChild(c);var d=a.data;for(i=0;i<d.length;++i){var e=document.createElement("a");e.href=d[i].link,e.target="_blank";var f=document.createElement("img");if(f.src=d[i].images[this.parameters.quality].url,f.className="insta-pict",null!==d[i].caption){if(f.alt=d[i].caption.text,this.parameters.caption){var g=document.createElement("div");g.className="insta-caption",g.innerHTML=d[i].caption.text.substr(0,30)+"...",e.appendChild(g)}}else f.alt=d[i].id;e.appendChild(f),e.style.position="relative",e.className="insta-link",c.appendChild(e)}}else if(400==a.meta.code){var h=document.createElement("span");h.innerHTML=a.meta.error_message,h.className="alert",document.body.appendChild(h),setTimeout(function(){h.className+=" fading"},3e3);var j="instabar_"+this.instance_id;delete window[j]}else{var h=document.createElement("span");h.innerHTML="An unknown error has occured",h.className="alert",document.body.appendChild(h),setTimeout(function(){h.className+=" fading"},3e3);var j="instabar_"+this.instance_id;delete window[j]}},run:function(){var a="instabar_"+this.instance_id;window[a]=new Instabar(this.parameters),window[a].instance_id=this.instance_id;var b="https://api.instagram.com/v1/users/self/feed/?user_id="+this.parameters.user_id+"&access_token="+this.parameters.access_token+"&callback="+a+".display";script=document.createElement("script"),script.id="instafeed-fetcher",script.src=b,body=document.getElementsByTagName("body"),body[0].appendChild(script)}};