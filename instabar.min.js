function Instabar(a){this.parameters={access_token:"",selector:"instabar",quality:"thumbnail",user_id:""};for(param in a)this.parameters[param]=a[param];this.instance_id=this._getUniqueID()}Instabar.prototype={_getUniqueID:function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;5>c;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},display:function(a){if(200==a.meta.code){var b=document.getElementById(this.parameters.selector),c=document.createElement("div");c.style.textAlign="center",b.appendChild(c);var d=a.data;for(i=0;i<d.length;++i){var e=document.createElement("a");e.href=d[i].link,e.target="_blank";var f=document.createElement("img");f.src=d[i].images[this.parameters.quality].url,f.className="insta-pict",e.appendChild(f),c.appendChild(e)}}else if(400==a.meta.code){var g=document.createElement("span");g.innerHTML=a.meta.error_message,g.className="alert",document.body.appendChild(g),setTimeout(function(){g.className+=" fading"},3e3);var h="instabar_"+this.instance_id;delete window[h]}else{var g=document.createElement("span");g.innerHTML="An unknown error has occured",g.className="alert",document.body.appendChild(g),setTimeout(function(){g.className+=" fading"},3e3);var h="instabar_"+this.instance_id;delete window[h]}},run:function(){var a="instabar_"+this.instance_id;window[a]=new Instabar(this.parameters),window[a].instance_id=this.instance_id;var b="https://api.instagram.com/v1/users/self/feed/?access_token="+this.parameters.access_token+"&callback="+a+".display";script=document.createElement("script"),script.src=b,body=document.getElementsByTagName("body"),body[0].appendChild(script)}};
