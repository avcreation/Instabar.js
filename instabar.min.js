function Instabar(a){this.parameters={access_token:"",selector:"instabar",quality:"thumbnail",caption:!0,likes:!0,user_id:!1,count:30};for(param in a)this.parameters[param]=a[param];this.instance_id=this._getUniqueID()}Instabar.prototype={_getUniqueID:function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;5>c;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},display:function(a){if(200==a.meta.code){var b=document.getElementById(this.parameters.selector),c=document.createElement("div");c.style.textAlign="center",b.appendChild(c);var d=a.data;for(i=0;i<d.length;++i){var e=document.createElement("a");e.href=d[i].link,e.target="_blank";var f=document.createElement("img");if(f.src=d[i].images[this.parameters.quality].url,f.className="insta-pict",this.parameters.likes){var g=d[i].likes.count,h=document.createElement("div");h.className="likes-count",h.innerHTML="<strong class='symbol'>&#xe044;</strong>"+g,e.appendChild(h)}if(null!==d[i].caption){if(f.alt=d[i].caption.text,this.parameters.caption){var j=document.createElement("div");j.className="insta-caption",j.innerHTML=d[i].caption.text.substr(0,30)+"...",e.appendChild(j)}}else f.alt=d[i].id;e.appendChild(f),e.style.position="relative",e.className="insta-link",c.appendChild(e)}}else if(400==a.meta.code){var k=document.createElement("span");k.innerHTML=a.meta.error_message,k.className="alert",document.body.appendChild(k),setTimeout(function(){k.className+=" fading"},3e3);var l="instabar_"+this.instance_id;delete window[l]}else{var k=document.createElement("span");k.innerHTML="An unknown error has occured",k.className="alert",document.body.appendChild(k),setTimeout(function(){k.className+=" fading"},3e3);var l="instabar_"+this.instance_id;delete window[l]}},run:function(){var a="instabar_"+this.instance_id;if(window[a]=new Instabar(this.parameters),window[a].instance_id=this.instance_id,this.parameters.user_id)var b="https://api.instagram.com/v1/users/"+this.parameters.user_id+"/media/recent/?count="+this.parameters.count+"&access_token="+this.parameters.access_token+"&callback="+a+".display";else var b="https://api.instagram.com/v1/users/self/feed/?count="+this.parameters.count+"&access_token="+this.parameters.access_token+"&callback="+a+".display";script=document.createElement("script"),script.id="instafeed-fetcher",script.src=b,body=document.getElementsByTagName("body"),body[0].appendChild(script)}};